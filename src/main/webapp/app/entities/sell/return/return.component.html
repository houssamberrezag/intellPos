<div id="page-title">
  <h3>Return Sale</h3>
</div>

<div class="panel-body">
  <div class="alert alert-warning animated headShake" style="background-color: rgba(255, 222, 160, 0.25); margin-bottom: 10px">
    <a href="#" class="close" data-dismiss="alert" aria-label="close">Ã—</a>
    <div class="" *ngIf="(transaction?.total ?? 0) - (transaction?.paid ?? 0) <= 0">Payment of this sale is fully completed.</div>
    <div *ngIf="(transaction?.total ?? 0) - (transaction?.paid ?? 0) > 0">
      Payment of this sale is not completed.
      <br />
      <b>Paid:</b>
      {{ transaction?.paid ?? 0 }} Dhs
      <br />
      <b>Due:</b>
      {{ (transaction?.total ?? 0) - (transaction?.paid ?? 0) }} Dhs
    </div>
  </div>

  <table class="table table-bordered">
    <thead style="background-color: #ddd">
      <tr>
        <th class="text-center">Product Name</th>
        <th class="text-center">Quantity</th>
        <th class="text-center">Return Quantity</th>
        <th class="text-center">Unit Price</th>
      </tr>
    </thead>

    <tbody style="background-color: #fff">
      <input type="hidden" name="_token" value="5NkRQ0fgaXcX9CqIa9faq17KzPRbl8EX6mnwlZEz" />
      <tr *ngFor="let sell of sells">
        <td class="text-center" width="30%">
          <p>{{ sell.product?.name }}</p>
        </td>

        <td class="text-center" width="30%">
          <p>{{ sell.quantity }}</p>
        </td>

        <td width="15%" class="text-center">
          <input type="text" class="form-control" (change)="onQuentityChanged($event, sell)" style="text-align: center" />
        </td>

        <td width="25%" class="text-center">
          <p>{{ sell.unitPrice }} Dhs</p>
        </td>
      </tr>
    </tbody>

    <tfoot>
      <tr>
        <td colspan="4">
          <button class="btn btn-warning pull-right" (click)="save()" [disabled]="!returnValid()">Return</button>
        </td>
      </tr>
    </tfoot>
  </table>
</div>
